@model SpecialSaleStageModel.SpecialSaleStageCreateModel


@if (Model.SpecialSaleStageGroupId < 1)
{
    <span> 您需要保存后才能进一步操作!</span>

    return;
}
else
{
    <table class="adminContent">
        <tr>
            <td class="adminTitle">@Html.NopLabelFor(s => Model.Name)</td>
            <td class="adminData">@Html.EditorFor(s => Model.Name)</td>
        </tr>

        <tr>
            <td class="adminTitle">@Html.NopLabelFor(s => s.ShortDescription)</td>
            <td class="adminData">@Html.EditorFor(s => Model.ShortDescription)</td>
        </tr>

        <tr>
            <td class="adminTitle">@Html.NopLabelFor(s => s.StartTime)</td>
            <td class="adminData">@Html.EditorFor(s => Model.StartTime)</td>
        </tr>
        <tr>
            <td class="adminTitle">@Html.NopLabelFor(s => s.EndTime)</td>
            <td class="adminData">@Html.EditorFor(s => Model.EndTime)</td>
        </tr>
        <tr>
            <td class="adminTitle">@Html.NopLabelFor(s => Model.DisplayOrder)</td>
            <td class="adminData">@Html.EditorFor(s => Model.DisplayOrder)</td>
        </tr>
        <tr>
            <td class="adminTitle">@Html.NopLabelFor(s => Model.Enable)</td>
            <td class="adminData">@Html.EditorFor(s => Model.Enable)</td>
        </tr>
        <tr>
            <td class="adminTitle">@Html.NopLabelFor(s => Model.PictureId)</td>
            <td class="adminData">@Html.EditorFor(s => Model.PictureId)</td>
        </tr>
        <tr>

            <td class="adminData" colspan="2"> <input type="button" class="k-button" value="添加" /> </td>
        </tr>
    </table>

    <br />

    <table class="adminContent">
        <tr>

            <td colspan="2" class="adminData">
                <div id="salegroup-grid"></div>
                <script>
                    $(document).ready(function () {
                        $("#salegroup-grid").kendoGrid({
                            dataSource: {
                                type: "json",
                                transport: {
                                    read: {
                                        url: "@Html.Raw(Url.Action("SpecialSaleGroupList", "WidgetsProductSpecialSale", new RouteValueDictionary() { { "Namespaces", "Nop.Plugin.Widgets.ProductSpecialSale" }, { "area", "" }, { "saleStageId", Model.SpecialSaleStageGroupId } }))",
                                        type: "POST",
                                        dataType: "json",

                                    }
                                },
                                schema: {
                                    data: "Data",
                                    total: "Total",
                                    errors: "Errors"
                                },
                                requestEnd: function (e) {

                                },
                                error: function (e) {
                                    display_kendoui_grid_error(e);
                                    // Cancel the changes
                                    this.cancelChanges();
                                },
                                serverPaging: false,
                                serverFiltering: true,
                                serverSorting: true
                            },
                            pageable: {
                                refresh: true
                            },
                            editable: {
                                confirmation: false,
                                mode: "inline"
                            },
                            scrollable: false,
                            dataBound: onDataBound,
                            columns: [
                                {
                                    field: "Id",
                                    title: "Id",
                                },
                                {
                                    field: "Name",
                                    title: "名称",
                                },
                                {
                                    field: "DisplayOrder",
                                    title: "顺序",
                                },
                                {
                                    field: "Enable",
                                    title: "启用",
                                }
                            ]
                        });
                    });



                    function onDataBound(e) {


                    }
                </script>
            </td>
        </tr>
    </table>
}

